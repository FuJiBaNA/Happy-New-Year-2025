// ฟังก์ชันสำหรับการพิมพ์ข้อความ
function typeWriter(element, text, speed, callback) {
    let i = 0;
    element.style.display = 'block';
    element.innerHTML = ''; // ลบข้อความเก่า
    function type() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, speed);
        } else if (callback) {
            callback(); // เรียก callback เมื่อพิมพ์เสร็จ
        }
    }
    type();
}

// ฟังก์ชันลบข้อความทีละตัวอักษร
function removeMessage(element, speed, callback) {
    let text = element.innerHTML;
    let i = text.length - 1;

    function deleteChar() {
        if (i >= 0) {
            element.innerHTML = text.substring(0, i);
            i--;
            setTimeout(deleteChar, speed);
        } else if (callback) {
            callback(); // เรียก callback เมื่อข้อความถูกลบหมด
        }
    }
    deleteChar();
}

// เมื่อคลิกที่กล่อง
document.getElementById("box").addEventListener("click", function() {
    const messages = [
        "Happy New Year 2025",
        "ปีนี้อาจจะเป็นปีที่เต็มไปด้วยความท้าทาย แต่ก็ยังเต็มไปด้วยโอกาสใหม่ๆ",
        "ขอให้ทุกคนมีสุขภาพที่แข็งแรง และสามารถทำตามความฝันที่ตั้งไว้",
        "ขอให้ความรักและความสุขเต็มบ้านเต็มเมืองในปีใหม่ที่กำลังจะมาถึง",
        "ขออวยพรให้ทุกๆ คนโชคดีและสนุกกับปีใหม่ครับ",
        "ขอให้ปีนี้เป็นปีที่ดีมากๆ เต็มไปด้วยความสำเร็จในทุกๆ ด้าน",
        "ขอให้ความสุขและความเจริญก้าวหน้าเข้ามาในชีวิตของทุกคน",
        "ขอให้ปีนี้มีแต่เรื่องราวดีๆ และโอกาสใหม่ๆ ที่จะทำให้ชีวิตของคุณสดใสยิ่งขึ้น",
        "ขอให้คุณพบเจอแต่สิ่งดีๆ และเติมเต็มชีวิตไปด้วยความรักและความสำเร็จ",
        "ขอให้ทุกความฝันและเป้าหมายของคุณเป็นจริงในปีนี้",
        "ขอให้ครอบครัวของคุณสุขภาพดี มีความสุข และได้ใช้เวลาร่วมกันอย่างมีคุณค่า",
        "ขอให้ทุกการเดินทางของคุณในปีนี้เต็มไปด้วยความสนุกและการค้นพบสิ่งใหม่ๆ",
        "ขอให้มีความสำเร็จในทุกเรื่องที่ทำ และประสบความโชคดีตลอดปี 2025",
        "ขอให้ปีใหม่เป็นปีที่เต็มไปด้วยเสียงหัวเราะ และความสนุกในทุกๆ วัน",
        "ขอให้คุณได้รับความรักและการสนับสนุนจากทุกคนรอบตัวในปีนี้",
        "ขอให้ปีนี้เป็นปีที่เต็มไปด้วยความหวังและโอกาสใหม่ๆ ที่จะเปลี่ยนชีวิตให้ดีขึ้น",
        "ขอให้คุณประสบความสำเร็จในการเรียนการงาน และเจริญก้าวหน้าในทุกๆ เรื่อง",
        "ขอให้ชีวิตของคุณเต็มไปด้วยความสงบสุขและความรักที่ยั่งยืนในปีใหม่",
        "ขอให้ปี 2025 เป็นปีที่ดีที่ดีที่สุดสำหรับคุณในทุกๆ ด้าน",
        "ขอให้ปีใหม่เป็นปีที่คุณได้เรียนรู้และเติบโตเป็นคนที่ดีที่สุดที่คุณสามารถเป็นได้",
        "ขอให้มีแต่เรื่องดีๆ เกิดขึ้นกับคุณในปีนี้และตลอดไป"
    ];
    

    // หน่วงเวลา 3 วินาที ก่อนเริ่มพิมพ์ข้อความ
    setTimeout(() => {
        function printMessages(index) {
            if (index < messages.length) {
                const messageId = `message${index + 1}`;
                const element = document.getElementById(messageId);

                if (element) {
                    typeWriter(element, messages[index], 100, function() {
                        setTimeout(() => {
                            removeMessage(element, 100, function() {
                                printMessages(index + 1); // พิมพ์ข้อความถัดไปหลังจากลบข้อความเสร็จ
                            });
                        }, 2000); // รอ 2 วินาทีก่อนที่จะลบข้อความ
                    });
                }
            }
        }

        printMessages(0); // เริ่มต้นพิมพ์ข้อความที่ index 0
    }, 4000); // หน่วงเวลา 3 วินาที
});
